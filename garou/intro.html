<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Thiercelieux - La Nuit Tombe</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Creepster&family=Special+Elite&display=swap');

        body {
            background-color: #050505; /* Presque noir */
            color: #b3b3b3;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Special Elite', monospace; /* Police style machine à écrire usée */
            margin: 0;
        }

        #container {
            width: 80%;
            max-width: 700px;
            text-align: center;
            position: relative;
        }

        /* Le texte principal */
        #scary-text {
            font-size: 1.8rem;
            line-height: 1.6;
            min-height: 200px;
            text-shadow: 2px 2px 4px #000;
        }

        /* Effet de scintillement sur certaines lettres */
        .flicker {
            animation: flicker 2s infinite;
            color: #8a0000; /* Rouge sang séché */
        }

        /* Effet de lumière rouge pulsante en fond */
        .background-pulse {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(100,0,0,0.15) 0%, rgba(0,0,0,0) 70%);
            animation: pulse 4s infinite ease-in-out;
            z-index: -1;
            pointer-events: none;
        }

        /* Le bouton pour continuer (caché au début) */
        #next-btn {
            margin-top: 40px;
            padding: 10px 20px;
            background: transparent;
            border: 1px solid #444;
            color: #666;
            font-family: 'Special Elite', cursive;
            cursor: pointer;
            opacity: 0;
            transition: opacity 2s;
        }
        #next-btn:hover {
            color: #aa0000;
            border-color: #aa0000;
        }

        /* ANIMATIONS */
        @keyframes flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; text-shadow: 0 0 2px red; }
            20%, 24%, 55% { opacity: 0.1; text-shadow: none; }
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.5; }
        }
    </style>
</head>
<body>

    <div class="background-pulse"></div>

    <div id="container">
        <p id="scary-text"></p>
       <button id="next-btn" onclick="window.location.href='garou.html'">OSER CONTINUER</button>
    </div>

    <script>
        // Le texte effrayant à afficher
        const phrases = [
            "Bienvenue à Tourlafort...",
            "Le soleil se meurt. Les ombres s'allongent.",
            "Regardez bien votre voisin de gauche...",
            "Est-ce un ami ? ^1000 Ou la <span class='flicker'>Bête</span> qui vous dévorera ?",
            "La nuit tombe. ^500 Personne ne vous entendra crier."
        ];

        const textContainer = document.getElementById('scary-text');
        const nextBtn = document.getElementById('next-btn');
        
        let currentPhraseIndex = 0;
        let charIndex = 0;
        let currentText = "";
        
        // Fonction pour écrire le texte style "machine à écrire hantée"
        function typeWriter() {
            if (currentPhraseIndex < phrases.length) {
                let fullPhrase = phrases[currentPhraseIndex];
                
                // Gestion des pauses spéciales marquées par ^1000 (millisecondes)
                if (fullPhrase.substring(charIndex).startsWith('^')) {
                    const endPause = fullPhrase.indexOf(' ', charIndex);
                    const pauseTime = parseInt(fullPhrase.substring(charIndex + 1, endPause));
                    charIndex = endPause + 1; // Sauter le code de pause
                    setTimeout(typeWriter, pauseTime);
                    return;
                }

                // Gestion du HTML (pour ne pas couper les balises <span>)
                if (fullPhrase[charIndex] === '<') {
                    const endTag = fullPhrase.indexOf('>', charIndex);
                    currentText += fullPhrase.substring(charIndex, endTag + 1);
                    charIndex = endTag + 1;
                } else {
                    currentText += fullPhrase[charIndex];
                    charIndex++;
                }

                textContainer.innerHTML = currentText;

                // Vitesse aléatoire pour faire "humain/effrayant"
                const randomSpeed = Math.random() * (100 - 30) + 30; 

                if (charIndex < fullPhrase.length) {
                    setTimeout(typeWriter, randomSpeed);
                } else {
                    // Phrase finie, on attend un peu puis on efface ou on passe à la suite
                    setTimeout(() => {
                        currentPhraseIndex++;
                        charIndex = 0;
                        currentText += "<br><br>"; // Saut de ligne entre les phrases
                        typeWriter();
                    }, 800);
                }
            } else {
                // Tout est fini, on affiche le bouton
                nextBtn.style.opacity = 1;
            }
        }

        // Lancer l'animation au chargement (avec un petit délai angoissant)
        window.onload = () => {
            setTimeout(typeWriter, 1000);
        };
    </script>

</body>
</html>