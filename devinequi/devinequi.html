<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style_devinequi.css">
    <title>Devine Qui a Dit Ã‡a ?</title>
</head>

<body>

    <!-- HEADER -->
    <header>
        <h1>Devine Qui ?</h1>
        <div id="timer-display" style="display:none;">03:00</div>
        <script src="../global-menu.js"></script>
        <!-- FENÃŠTRE MODALE DES RÃˆGLES -->
        <div id="regles-du-jeu" style="display: none;">
            <h2>ğŸ“œ Les RÃ¨gles du Devine qui a dit Ã§a ?</h2>
            <p><strong>1. L'EnquÃªteur :</strong> Il sort de la piÃ¨ce ou se cache les yeux. Il ne connaÃ®t ni le thÃ¨me, ni
                la contrainte.</p>
            <p><strong>2. Les Autres :</strong> Ils Ã©crivent chacun une phrase respectant le ThÃ¨me et la Contrainte
                imposÃ©s.</p>
            <p><strong>3. L'EnquÃªte :</strong> Les phrases sont mÃ©langÃ©es. L'enquÃªteur a 3 minutes pour deviner le thÃ¨me
                et la contrainte.</p>
            <p><strong>4. Points :</strong> +1 pt pour le thÃ¨me trouvÃ©, +1 pt pour la contrainte trouvÃ©e.</p>
            <p><strong>5. ATTENTION :</strong> C'est Ã  vous de dÃ©cider de l'aider ou non ;)</p>

            <button onclick="closeRules()"
                style="margin-top:15px; background:#ff6b6b; border:2px solid #000; padding:10px; border-radius:8px; font-weight:bold; cursor:pointer; box-shadow: 2px 2px 0 #000;">
                J'ai compris !
            </button>
        </div>
    </header>

    <div id="app">

        <!-- Ã‰CRAN 0 : ACCUEIL -->
        <div id="screen-home" class="screen active">
            <h2>Bienvenue !</h2>
            <p>CrÃ©ation de la partie</p>

            <div class="mode-selector">
                <button id="mode-classique" class="btn mode-btn selected" onclick="selectMode('classique')">âœ…
                    Classique</button>
                <button id="mode-hot" class="btn mode-btn" onclick="selectMode('hot')">ğŸ” Hot</button>
            </div>

            <div class="card">
                <input type="text" id="input-player-name" placeholder="Nom du joueur">
                <button class="btn" onclick="addPlayer()">Ajouter un joueur</button>
                <div id="player-list"></div>
            </div>

            <button id="btn-start-game" class="btn btn-red" onclick="startGame()" disabled>DÃ©marrer la partie (Min
                3)</button>
        </div>

        <!-- Ã‰CRAN 1 : REVELATION (Non-EnquÃªteurs) -->
        <div id="screen-reveal" class="screen">
            <h3>Manche <span id="round-number">1</span></h3>
            <div class="card" style="background-color: #ffe6e6;">
                <h2>ğŸ•µï¸â€â™‚ï¸ <span id="investigator-name">...</span> est l'EnquÃªteur</h2>
                <p>Passez l'Ã©cran aux autres joueurs. L'enquÃªteur NE DOIT PAS REGARDER.</p>
            </div>
            <button class="btn" onclick="showTask()">C'est bon, l'enquÃªteur ne regarde pas</button>
        </div>

        <!-- Ã‰CRAN 1 BIS : AFFICHER THEME/CONTRAINTE -->
        <div id="screen-task" class="screen">
            <h2>ğŸ¤« Chut !</h2>
            <div class="card">
                <p><strong>THÃˆME :</strong></p>
                <h3 id="display-theme" style="color:var(--accent)">...</h3>
                <hr style="border: 1px dashed black;">
                <p><strong>CONTRAINTE :</strong></p>
                <h3 id="display-constraint" style="color:var(--accent)">...</h3>
            </div>
            <p>Retenez bien ceci !</p>
            <button class="btn btn-red" onclick="startWritingPhase()">On a compris, Ã©crire les phrases</button>
        </div>

        <!-- Ã‰CRAN 2 : SAISIE (Tour par tour) -->
        <div id="screen-writing" class="screen">
            <h2>Au tour de <span id="writer-name">...</span></h2>
            <div class="card">
                <p><small>Rappel ThÃ¨me : <span id="reminder-theme"></span></small></p>
                <p><small>Rappel Contrainte : <span id="reminder-constraint"></span></small></p>
                <input type="text" id="input-phrase" placeholder="Ã‰cris ta phrase ici...">
            </div>
            <button class="btn" onclick="submitPhrase()">Valider ma phrase</button>
        </div>

        <!-- Ã‰CRAN INTERMÃ‰DIAIRE : PASSER AU SUIVANT -->
        <div id="screen-pass" class="screen">
            <h2>ğŸ‘€ Passe au joueur suivant</h2>
            <p>Ne montre pas ta phrase !</p>
            <button class="btn" onclick="nextWriter()">C'est moi !</button>
        </div>

        <!-- Ã‰CRAN 3 : RETOUR ENQUÃŠTEUR -->
        <div id="screen-ready-investigate" class="screen">
            <h2>ğŸ•µï¸â€â™‚ï¸ Appel Ã  l'EnquÃªteur !</h2>
            <p>Toutes les phrases sont Ã©crites.</p>
            <p>Rappelez l'enquÃªteur !</p>
            <button class="btn btn-red" onclick="startInvestigation()">Je suis prÃªt Ã  enquÃªter</button>
        </div>

        <!-- Ã‰CRAN 4 : ENQUÃŠTE -->
        <div id="screen-investigation" class="screen">


            <div id="phrases-container">
                <!-- Les cartes phrases seront ici -->
            </div>

            <div class="card" style="background: #e8f4bc;">
                <h3>Tes propositions</h3>
                <input type="text" id="guess-theme" placeholder="Devine le THÃˆME...">
                <input type="text" id="guess-constraint" placeholder="Devine la CONTRAINTE...">
                <button class="btn btn-red" onclick="submitGuess()">Je propose ma rÃ©ponse !</button>
            </div>
        </div>

        <!-- Ã‰CRAN 5 : RÃ‰SULTATS / VALIDATION -->
        <div id="screen-results" class="screen">
            <h2>ğŸ” RÃ©vÃ©lation</h2>

            <div class="card">
                <p>L'enquÃªteur a proposÃ© :</p>
                <p><strong>ThÃ¨me :</strong> <span id="final-guess-theme" style="color:blue">...</span></p>
                <p><strong>Contrainte :</strong> <span id="final-guess-constraint" style="color:blue">...</span></p>
            </div>

            <div class="card" style="background: var(--accent); color: white;">
                <h3>LA VÃ‰RITÃ‰ Ã‰TAIT :</h3>
                <p><strong>THÃˆME :</strong> <span id="real-theme">...</span></p>
                <p><strong>CONTRAINTE :</strong> <span id="real-constraint">...</span></p>
            </div>

            <h3>Validation du groupe :</h3>
            <p>A-t-il trouvÃ© le thÃ¨me ?</p>
            <button class="btn" onclick="validateScore(true, 'theme')">OUI (+1)</button>
            <button class="btn" onclick="validateScore(false, 'theme')">NON</button>

            <p>A-t-il trouvÃ© la contrainte ?</p>
            <button class="btn" onclick="validateScore(true, 'constraint')">OUI (+1)</button>
            <button class="btn" onclick="validateScore(false, 'constraint')">NON</button>

            <br><br>
            <button id="btn-next-round" class="btn btn-red" onclick="nextRound()" style="display:none">Manche
                Suivante</button>
        </div>

        <!-- Ã‰CRAN DE FIN DE JEU -->
        <div id="screen-end" class="screen">
            <h2>ğŸ† Partie TerminÃ©e !</h2>
            <div id="final-scoreboard"></div>
            <button class="btn" onclick="resetGame()">Retour Accueil</button>
        </div>

        <!-- SCOREBOARD PERMANENT (en bas) -->
        <div id="scoreboard">
            <h3>Scores</h3>
            <div id="scores-container"></div>
        </div>

    </div>
    <script src="devinequi.js"></script>
</body>

</html>